<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>$(identity) - Connexion</title>
    <meta name="theme-color" content="#0f172a" />
    <link rel="stylesheet" href="assets/style.css">
</head>
<body>

    <div class="main-card">
        <div class="status-bar">
            <span>$(identity)</span>
            <div class="status-pill">
                <div class="pulse-dot"></div> En ligne
            </div>
        </div>

        <div class="card-header">
                <div class="ticker-container">
                    <div class="ticker-text">
                    {{TICKER_TEXT}}
                    </div>
                </div>

            <div class="logo-container">
                <svg width="32" height="32" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M13 10V3L4 14h7v7l9-11h-7z"/></svg>
            </div>
            <h1 class="brand-title">Connexion</h1>
            <p class="brand-subtitle">Internet Haute Vitesse</p>
        </div>

        <div class="card-body">
            $(if error)
            <div style="background:#fee2e2; color:#ef4444; padding:10px; border-radius:10px; font-size:13px; margin-bottom:15px; text-align:center;">
                $(error)
            </div>
            $(endif)

            <div class="tabs-wrapper">
                <div class="tab-indicator" id="tabIndicator"></div>
                <button class="tab-btn active" onclick="setMode('voucher')" id="btn-voucher">
                    <svg width="16" height="16" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 5v2a3 3 0 013 3v2a3 3 0 01-3 3v2H9v-2a3 3 0 01-3-3v-2a3 3 0 013-3V5h6z"></path></svg>
                    Code Ticket
                </button>
                <button class="tab-btn" onclick="setMode('member')" id="btn-member">
                    <svg width="16" height="16" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path></svg>
                    Compte
                </button>
            </div>

            <form name="login" action="$(link-login-only)" method="post" $(if chap-id) onSubmit="return doLogin()" $(endif) autocomplete="off">
                <input type="hidden" name="dst" value="$(link-orig)" />
                <input type="hidden" name="popup" value="true" />

                <div class="input-group">
                    <input class="modern-input" name="username" type="text" placeholder="Entrez votre code" required />
                    <svg class="input-icon" width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"></path></svg>
                </div>

                <div class="input-group" id="div-password" style="display:none;">
                    <input class="modern-input" name="password" type="password" placeholder="Mot de passe" />
                    <svg class="input-icon" width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"></path></svg>
                </div>

                <button type="submit" class="btn-action">
                    <svg width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"></path></svg>
                    Se Connecter
                </button>

                <div class="contact-buttons-grid">
                    <a href="tel:{{CONTACT_PHONE_1}}" class="btn-contact-modern btn-contact-1">
                        <svg width="18" height="18" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"></path></svg>
                        {{CONTACT_LABEL_1}}
                    </a>
                    <a href="tel:{{CONTACT_PHONE_2}}" class="btn-contact-modern btn-contact-2">
                        <svg width="18" height="18" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.364 5.636a9 9 0 010 12.728m0 0l-2.829-2.829m2.829 2.829L21 21M15.536 8.464a5 5 0 010 7.072m0 0l-2.829-2.829m-4.243 2.829a4.978 4.978 0 01-1.414-2.83m-1.414 5.658a9 9 0 01-2.167-9.238"></path></svg>
                        {{CONTACT_LABEL_2}}
                    </a>
                </div>
            </form>

            $(if trial == 'yes')
            <div style="text-align:center; margin-top:15px;">
                <a href="$(link-login-only)?dst=$(link-orig-esc)&amp;username=T-$(mac-esc)" style="color:var(--primary); text-decoration:none; font-size:13px; font-weight:600;">Essai Gratuit 30 Minutes &rarr;</a>
            </div>
            $(endif)

            <div class="pricing-title">Nos Tarifs</div>
            <div class="pricing-area">
                <a href="{{SALE_PAGE_URL}}" class="price-badge badge-blue">
                    <span class="badge-time">1 Heure 30 Minutes</span>
                    <span class="badge-val">100 FCFA</span>
                    <span class="badge-cta">Payer</span>
                </a>
                <a href="{{SALE_PAGE_URL}}" class="price-badge badge-purple">
                    <span class="badge-time">1 Jour</span>
                    <span class="badge-val">300 FCFA</span>
                    <span class="badge-cta">Payer</span>
                </a>
                <a href="{{SALE_PAGE_URL}}" class="price-badge badge-purple">
                    <span class="badge-time">3 Jours</span>
                    <span class="badge-val">500 FCFA</span>
                    <span class="badge-cta">Payer</span>
                </a>
                <a href="{{SALE_PAGE_URL}}" class="price-badge badge-pink">
                    <span class="badge-time">Semaine</span>
                    <span class="badge-val">1 000 FCFA</span>
                    <span class="badge-cta">Payer</span>
                </a>
                <a href="{{SALE_PAGE_URL}}" class="price-badge badge-emerald">
                    <span class="badge-time">1 Mois</span>
                    <span class="badge-val">3 000 FCFA</span>
                    <span class="badge-cta">Payer</span>
                </a>
                <!--
                <a href="{{SALE_PAGE_URL}}" class="price-badge badge-emerald">
                    <span class="badge-time">3 Mois</span>
                    <span class="badge-val">9 000 FCFA</span>
                    <span class="badge-cta">Payer</span>
                </a>
                -->
            </div>

            <div style="margin-top:25px; text-align:center;">
                <p style="color:var(--text-muted); font-size:11px; margin:0;">
                    &copy; <script>document.write(new Date().getFullYear());</script> $(identity). Tous droits réservés.<br>
                    Powered by PhenixSPOT
                </p>
            </div>
        </div>
    </div>

    $(if chap-id)
    <form name="sendin" action="$(link-login-only)" method="post">
        <input type="hidden" name="username" />
        <input type="hidden" name="password" />
        <input type="hidden" name="dst" value="$(link-orig)" />
        <input type="hidden" name="popup" value="true" />
    </form>
    <script type="text/javascript" src="md5.js"></script>
    <script type="text/javascript">
        function doLogin() {
            document.sendin.username.value = document.login.username.value;
            document.sendin.password.value = hexMD5('$(chap-id)' + document.login.password.value + '$(chap-challenge)');
            document.sendin.submit();
            return false;
        }
    </script>
    $(endif)

    <script>
        const inputUser = document.login.username;
        const inputPass = document.login.password;
        const divPass = document.getElementById('div-password');
        const tabIndicator = document.getElementById('tabIndicator');
        const btnVoucher = document.getElementById('btn-voucher');
        const btnMember = document.getElementById('btn-member');

        function setMode(mode) {
            if (mode === 'voucher') {
                tabIndicator.style.transform = 'translateX(0)';
                btnVoucher.classList.add('active');
                btnMember.classList.remove('active');
                divPass.style.display = 'none';
                inputUser.placeholder = "Entrez votre code";
                inputUser.onkeyup = () => { inputPass.value = inputUser.value; };
                inputUser.onkeyup();
            } else {
                tabIndicator.style.transform = 'translateX(100%)';
                btnMember.classList.add('active');
                btnVoucher.classList.remove('active');
                divPass.style.display = 'block';
                inputUser.placeholder = "Identifiant";
                inputPass.value = "";
                inputUser.onkeyup = null;
            }
            inputUser.focus();
        }
        window.onload = function() { setMode('voucher'); };
    </script>
</body>
</html>
